<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Key Sequence Detection (KONAMI CODE)</title>
    <!-- 參考https://www.buzzfeed.com/ 這個網站 -->
<!-- 这个挑戰要呈現的效果是，當在此頁面完整輸入了'secretCode'（一串事先定義好的字符串）时，產生新的 Cornify 特效。 -->    <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>
<body>

<script>
    // whenever someone presses one of these items,push it into an array
    const pressArray = [];
    //暗號
    const secretCode = 'helloworld';
    window.addEventListener('keyup',(e) => {
        //console.log(e.key);
        pressArray.push(e.key);
        // 驗證輸入的字符。這個方法是將每一个輸入的字符存入pressArray陣列，
        // 然後處理pressArray陣列，使其呈現先進先出的形式，也就是輸入一个字符時，會擠出原有的的字符，
        // 並保證其最大長度始终為 secretCode的長度。這樣做的目的是為了驗證暗號，
        // 只有完整無誤的輸入一次暗號時，才会觸發相應的效果。
        //splice(-11,1)，也就是從後面數-1開始至-11，當下的那個字母包含之前的字母全部截取掉
        pressArray.splice(- secretCode.length - 1,pressArray.length - secretCode.length);
        //console.log(arr)
        if(pressArray.join('').includes(secretCode)){
            console.log('DING DING');
            cornify_add();
        }
        console.log(pressArray);
    })
    

</script>
</body>
</html>